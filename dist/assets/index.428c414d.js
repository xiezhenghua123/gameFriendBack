import{r as b,g as h}from"./gameManage.3b649b30.js";import{s as C}from"./user.8465d1e2.js";import v from"./index.b16102d5.js";import{_ as G,o as k,p as y,H as e,S as n,J as m,G as D,q as g,I as r}from"./index.c2b63836.js";const x={data(){return{initData:{dataList:[]},page:1,limit:10,total:0,dialogVisible:!1,headerStyle:{"background-color":"rgba(0,0,0,0.05)"},editGameData:{},contentDialog:!1}},components:{addGameComponent:v},mounted(){this.getGameinit()},methods:{clickRemoveGame(l){b(l).then(({code:t})=>{t===0&&(this.getGameinit(),C("\u5220\u9664\u6210\u529F"))})},editGame(l){this.editGameData=l,this.dialogVisible=!0},addGame(){this.dialogVisible=!0,this.editGameData={}},confirm(l){l&&(this.getGameinit(),this.dialogVisible=!1)},getGameinit(){h(this.page.toString(),{uid:"n"}).then(({data:l})=>{this.initData.dataList=l.gameList,this.limit=l.limit,this.total=l.total})}}},V={class:"height-100 bg-fff p-10"},w=m("\u53D1\u5E03\u6BD4\u8D5B"),z=m("\u67E5\u770B"),N={class:"flex"},S=m("\u7F16\u8F91"),L=m("\u5220\u9664"),B={class:"mt-10 flex",style:{"justify-content":"right"}};function U(l,t,j,I,i,s){const d=r("el-button"),a=r("el-table-column"),c=r("el-dialog"),_=r("el-table"),u=r("el-pagination"),f=r("addGameComponent");return k(),y("div",V,[e(d,{type:"primary",onClick:s.addGame,size:"large"},{default:n(()=>[w]),_:1},8,["onClick"]),e(_,{data:i.initData.dataList,class:"mt-10",border:"","header-cell-style":i.headerStyle},{default:n(()=>[e(a,{prop:"name",label:"\u6BD4\u8D5B\u540D\u79F0"}),e(a,{prop:"organizer",label:"\u4E3B\u529E\u65B9"}),e(a,{prop:"level",label:"\u8D5B\u4E8B\u7EA7\u522B",width:"90"}),e(a,{prop:"subject",label:"\u8D5B\u4E8B\u79D1\u76EE",width:"90"}),e(a,{prop:"game_time",label:"\u6BD4\u8D5B\u65F6\u95F4",width:"160"}),e(a,{prop:"sign_up_time",label:"\u62A5\u540D\u622A\u6B62\u65F6\u95F4",width:"120"}),e(a,{prop:"collections",label:"\u6536\u85CF\u4EBA\u6570",width:"90"}),e(a,{label:"\u8BE6\u60C5",width:"90"},{default:n(o=>[e(d,{type:"primary",size:"small",onClick:t[0]||(t[0]=p=>i.contentDialog=!0)},{default:n(()=>[z]),_:1}),e(c,{title:"\u8D5B\u4E8B\u8BE6\u60C5","append-to-body":"",modelValue:i.contentDialog,"onUpdate:modelValue":t[1]||(t[1]=p=>i.contentDialog=p)},{default:n(()=>[m(D(o.row.content),1)]),_:2},1032,["modelValue"])]),_:1}),e(a,{label:"\u64CD\u4F5C",width:"180"},{default:n(o=>[g("div",N,[e(d,{type:"primary",size:"small",onClick:p=>s.editGame(o.row)},{default:n(()=>[S]),_:2},1032,["onClick"]),e(d,{type:"danger",size:"small",onClick:p=>s.clickRemoveGame(o.row.id)},{default:n(()=>[L]),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data","header-cell-style"]),g("div",B,[e(u,{background:"",layout:"prev, pager, next","page-size":i.limit,"onUpdate:page-size":t[2]||(t[2]=o=>i.limit=o),"current-page":i.page,"onUpdate:current-page":t[3]||(t[3]=o=>i.page=o),onCurrentChange:s.getGameinit,onPrevClick:s.getGameinit,onNextClick:s.getGameinit,total:i.total},null,8,["page-size","current-page","onCurrentChange","onPrevClick","onNextClick","total"])]),e(c,{"model-value":i.dialogVisible,title:"\u53D1\u5E03\u6BD4\u8D5B","close-on-click-modal":!1,onClose:t[5]||(t[5]=o=>i.dialogVisible=!1)},{default:n(()=>[e(f,{initData:i.editGameData,onConfirm:s.confirm,onCancel:t[4]||(t[4]=o=>i.dialogVisible=!1)},null,8,["initData","onConfirm"])]),_:1},8,["model-value"])])}var H=G(x,[["render",U],["__scopeId","data-v-c56182fc"]]);export{H as default};
