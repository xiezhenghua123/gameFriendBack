import{a as y,g as G,r as w}from"./index.5c811e6b.js";import{s as z}from"./user.6e0cb8f8.js";import{_ as D,$ as x,L as c,o as L,p as N,H as e,S as o,q as b,C as U,T as f,J as u,I as n}from"./index.66b33cbd.js";const j={class:"height-100 bg-fff p-10"},B=u("\u53D1\u5E03\u6BD4\u8D5B"),S={class:"flex"},$=u("\u7F16\u8F91"),I=u("\u5220\u9664"),R={class:"mt-10 flex",style:{"justify-content":"right"}},T={data(){return{dialogVisible:!1,headerStyle:{"background-color":"rgba(0,0,0,0.05)"},editGameData:{}}},methods:{editGame(d){this.editGameData=d,this.dialogVisible=!0},addGame(){this.dialogVisible=!0,this.editGameData={}},confirm(d){d&&this.getGameinit()}}},q=Object.assign(T,{setup(d){const _=x({dataList:[]}),r=c(1),m=c(10),g=c(0),s=()=>{G(r.value).then(({data:a})=>{_.dataList=a.gameList,m.value=a.limit,g.value=a.total})};s();const v=a=>{w(a).then(({code:t})=>{t===0&&(s(),z("\u5220\u9664\u6210\u529F"))})};return(a,t)=>{const p=n("el-button"),i=n("el-table-column"),h=n("el-table"),V=n("el-pagination"),C=n("el-dialog");return L(),N("div",j,[e(p,{type:"primary",onClick:a.addGame,size:"large"},{default:o(()=>[B]),_:1},8,["onClick"]),e(h,{data:U(_).dataList,class:"mt-10",border:"","header-cell-style":a.headerStyle},{default:o(()=>[e(i,{prop:"name",label:"\u6BD4\u8D5B\u540D\u79F0"}),e(i,{prop:"organizer",label:"\u4E3B\u529E\u65B9"}),e(i,{prop:"level",label:"\u8D5B\u4E8B\u7EA7\u522B",width:"90"}),e(i,{prop:"subject",label:"\u8D5B\u4E8B\u79D1\u76EE",width:"90"}),e(i,{prop:"game_time",label:"\u6BD4\u8D5B\u65F6\u95F4",width:"160"}),e(i,{prop:"sign_up_time",label:"\u62A5\u540D\u622A\u6B62\u65F6\u95F4",width:"120"}),e(i,{prop:"collections",label:"\u6536\u85CF\u4EBA\u6570",width:"90"}),e(i,{label:"\u64CD\u4F5C",width:"180"},{default:o(l=>[b("div",S,[e(p,{type:"primary",size:"small",onClick:k=>a.editGame(l.row)},{default:o(()=>[$]),_:2},1032,["onClick"]),e(p,{type:"danger",size:"small",onClick:k=>v(l.row.id)},{default:o(()=>[I]),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data","header-cell-style"]),b("div",R,[e(V,{background:"",layout:"prev, pager, next","page-size":m.value,"onUpdate:page-size":t[0]||(t[0]=l=>m.value=l),"current-page":r.value,"onUpdate:current-page":t[1]||(t[1]=l=>r.value=l),onCurrentChange:s,onPrevClick:s,onNextClick:s,total:g.value},null,8,["page-size","current-page","total"])]),e(C,{modelValue:a.dialogVisible,"onUpdate:modelValue":t[3]||(t[3]=l=>f(dialogVisible)?dialogVisible.value=l:null),title:"\u53D1\u5E03\u6BD4\u8D5B","close-on-click-modal":!1},{default:o(()=>[e(y,{dialogVisible:a.dialogVisible,"onUpdate:dialogVisible":t[2]||(t[2]=l=>f(dialogVisible)?dialogVisible.value=l:null),initData:a.editGameData,onConfirm:a.confirm},null,8,["dialogVisible","initData","onConfirm"])]),_:1},8,["modelValue"])])}}});var M=D(q,[["__scopeId","data-v-c830c796"]]);export{M as default};
