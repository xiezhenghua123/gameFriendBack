import k from"./index.77506120.js";import{g as G,r as D}from"./gameManage.330b90d7.js";import{s as w}from"./user.6728ae69.js";import{_ as z,$ as L,L as c,o as U,p as N,H as e,S as i,T as _,J as d,G as S,q as V,C as $,I as s}from"./index.f70b805b.js";const j={class:"height-100 bg-fff p-10"},x=d("\u53D1\u5E03\u6BD4\u8D5B"),B=d("\u67E5\u770B"),I={class:"flex"},R=d("\u7F16\u8F91"),T=d("\u5220\u9664"),q={class:"mt-10 flex",style:{"justify-content":"right"}},E={data(){return{dialogVisible:!1,headerStyle:{"background-color":"rgba(0,0,0,0.05)"},editGameData:{},contentDialog:!1}},methods:{editGame(r){this.editGameData=r,this.dialogVisible=!0},addGame(){this.dialogVisible=!0,this.editGameData={}},confirm(r){r&&this.getGameinit()}}},H=Object.assign(E,{setup(r){const f=L({dataList:[]}),u=c(1),g=c(10),b=c(0),n=()=>{G(u.value,{uid:"n"}).then(({data:t})=>{f.dataList=t.gameList,g.value=t.limit,b.value=t.total})};n();const h=t=>{D(t).then(({code:a})=>{a===0&&(n(),w("\u5220\u9664\u6210\u529F"))})};return(t,a)=>{const m=s("el-button"),o=s("el-table-column"),v=s("el-dialog"),y=s("el-table"),C=s("el-pagination");return U(),N("div",j,[e(m,{type:"primary",onClick:t.addGame,size:"large"},{default:i(()=>[x]),_:1},8,["onClick"]),e(y,{data:$(f).dataList,class:"mt-10",border:"","header-cell-style":t.headerStyle},{default:i(()=>[e(o,{prop:"name",label:"\u6BD4\u8D5B\u540D\u79F0"}),e(o,{prop:"organizer",label:"\u4E3B\u529E\u65B9"}),e(o,{prop:"level",label:"\u8D5B\u4E8B\u7EA7\u522B",width:"90"}),e(o,{prop:"subject",label:"\u8D5B\u4E8B\u79D1\u76EE",width:"90"}),e(o,{prop:"game_time",label:"\u6BD4\u8D5B\u65F6\u95F4",width:"160"}),e(o,{prop:"sign_up_time",label:"\u62A5\u540D\u622A\u6B62\u65F6\u95F4",width:"120"}),e(o,{prop:"collections",label:"\u6536\u85CF\u4EBA\u6570",width:"90"}),e(o,{label:"\u8BE6\u60C5",width:"90"},{default:i(l=>[e(m,{type:"primary",size:"small",onClick:a[0]||(a[0]=p=>t.contentDialog=!0)},{default:i(()=>[B]),_:1}),e(v,{title:"\u8D5B\u4E8B\u8BE6\u60C5","append-to-body":"",modelValue:t.contentDialog,"onUpdate:modelValue":a[1]||(a[1]=p=>_(contentDialog)?contentDialog.value=p:null)},{default:i(()=>[d(S(l.row.content),1)]),_:2},1032,["modelValue"])]),_:1}),e(o,{label:"\u64CD\u4F5C",width:"180"},{default:i(l=>[V("div",I,[e(m,{type:"primary",size:"small",onClick:p=>t.editGame(l.row)},{default:i(()=>[R]),_:2},1032,["onClick"]),e(m,{type:"danger",size:"small",onClick:p=>h(l.row.id)},{default:i(()=>[T]),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data","header-cell-style"]),V("div",q,[e(C,{background:"",layout:"prev, pager, next","page-size":g.value,"onUpdate:page-size":a[2]||(a[2]=l=>g.value=l),"current-page":u.value,"onUpdate:current-page":a[3]||(a[3]=l=>u.value=l),onCurrentChange:n,onPrevClick:n,onNextClick:n,total:b.value},null,8,["page-size","current-page","total"])]),e(v,{modelValue:t.dialogVisible,"onUpdate:modelValue":a[5]||(a[5]=l=>_(dialogVisible)?dialogVisible.value=l:null),title:"\u53D1\u5E03\u6BD4\u8D5B","close-on-click-modal":!1},{default:i(()=>[e(k,{dialogVisible:t.dialogVisible,"onUpdate:dialogVisible":a[4]||(a[4]=l=>_(dialogVisible)?dialogVisible.value=l:null),initData:t.editGameData,onConfirm:t.confirm},null,8,["dialogVisible","initData","onConfirm"])]),_:1},8,["modelValue"])])}}});var A=z(H,[["__scopeId","data-v-7f27aed7"]]);export{A as default};
